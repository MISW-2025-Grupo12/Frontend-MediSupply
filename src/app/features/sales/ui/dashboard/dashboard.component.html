<div class="page-container" *transloco="let t">
  <div class="page-header">
    <h1 class="page-title">{{ t('sales.dashboard.title') }}</h1>
  </div>

  <div class="page-content">
    <!-- Date Filters Section -->
    <mat-card class="filters-card">
      <mat-card-header>
        <mat-card-title>{{ t('sales.dashboard.filters.title') }}</mat-card-title>
      </mat-card-header>
      <mat-card-content>
        <div class="filters-container">
          <mat-form-field class="date-field">
            <mat-label>{{ t('sales.dashboard.filters.startDate') }}</mat-label>
            <input matInput [matDatepicker]="startPicker" [(ngModel)]="startDate">
            <mat-datepicker-toggle matIconSuffix [for]="startPicker"></mat-datepicker-toggle>
            <mat-datepicker #startPicker></mat-datepicker>
          </mat-form-field>

          <mat-form-field class="date-field">
            <mat-label>{{ t('sales.dashboard.filters.endDate') }}</mat-label>
            <input matInput [matDatepicker]="endPicker" [(ngModel)]="endDate">
            <mat-datepicker-toggle matIconSuffix [for]="endPicker"></mat-datepicker-toggle>
            <mat-datepicker #endPicker></mat-datepicker>
          </mat-form-field>

          <div class="filter-actions">
            <button mat-raised-button color="primary" (click)="onApplyFilters()">
              <mat-icon>search</mat-icon>
              {{ t('sales.dashboard.filters.apply') }}
            </button>
            <button mat-stroked-button (click)="onClearFilters()">
              <mat-icon>clear</mat-icon>
              {{ t('sales.dashboard.filters.clear') }}
            </button>
          </div>
        </div>
      </mat-card-content>
    </mat-card>

    <!-- Summary Cards Section -->
    <app-summary-cards [summary]="summary"></app-summary-cards>

    <!-- Charts Section -->
    <div class="charts-section">

      <!-- Sales by Company Chart -->
      <mat-card class="chart-card">
        <mat-card-header>
          <mat-card-title>{{ t('sales.dashboard.charts.salesByCompany') }}</mat-card-title>
        </mat-card-header>
        <mat-card-content>
          <div class="chart-container">
            <canvas baseChart [data]="companyChartData" [options]="doughnutChartOptions" type="doughnut">
            </canvas>
          </div>
        </mat-card-content>
      </mat-card>

      <!-- Sales by Customer Chart -->
      <mat-card class="chart-card">
        <mat-card-header>
          <mat-card-title>{{ t('sales.dashboard.charts.salesByCustomer') }}</mat-card-title>
        </mat-card-header>
        <mat-card-content>
          <div class="chart-container">
            <canvas baseChart [data]="customerChartData" [options]="barChartOptions" type="bar">
            </canvas>
          </div>
        </mat-card-content>
      </mat-card>

      <!-- Sales by Product Chart -->
      <mat-card class="chart-card">
        <mat-card-header>
          <mat-card-title>{{ t('sales.dashboard.charts.salesByProduct') }}</mat-card-title>
        </mat-card-header>
        <mat-card-content>
          <div class="chart-container">
            <canvas baseChart [data]="productChartData" [options]="barChartOptions" type="bar">
            </canvas>
          </div>
        </mat-card-content>
      </mat-card>

    </div>
  </div>
</div>